<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>tech-archlinux</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="../wikicss.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p><a href="../index.html">wiki home</a></p>
<h1 id="arch软件与优化">arch软件与优化</h1>
<h3 id="系统安装">系统安装</h3>
<p>按照wiki走一遍，不行就再来一遍。有可能踩坑：</p>
<ul>
<li>和win10共享ESP分区的话，100Mb 不够用，而且win10更新会导致 grub 错误。建议扩大 ESP 分区</li>
<li>命令行状态下要装好网络包</li>
<li>自动挂载移动硬盘和U盘，安装 <code>ntfs-3g udevil</code> ，同时当前用户要增加权限</li>
</ul>
<h3 id="字体">字体</h3>
<p>查看中文字体： <code>fc-list :lang=zh</code> 可以看到字体名，便于配置软件</p>
<ul>
<li>等宽字体： <code>pacman -S ttf-dejavu</code></li>
<li>emoji： <code>noto-fonts-emoji</code></li>
<li>谷歌东亚字体：<code>noto-fonts-cjk</code></li>
<li>文泉驿微米黑：<code>wqy-microhei</code></li>
<li>思源宋体和黑体： adobe-source-han-serif-cn-fonts 和 adobe-source-han-sans-cn-fonts</li>
<li>简体中文等距更纱黑体+Nerd图标字体库。 <code>yay -S nerd-fonts-sarasa-mono</code></li>
</ul>
<h3 id="xfce4">XFCE4</h3>
<p>声音：安装 alsa-utils 和 pulseaudio。安装　<code>xfce4-pulseaudio-plugin</code> ，面板添加音量图标。</p>
<p>主题： arc-gtk-theme 图标： papirus-icon-theme</p>
<p>配置桌面快捷键：</p>
<ul>
<li>窗口移动：win+方向键</li>
<li>隐藏所有窗口：win+D</li>
<li>启动器：win+1</li>
<li>截图：flameshot gui &gt; win+3</li>
</ul>
<p>壁纸位置在：~/.local/share/xfce4/backdrops/</p>
<h3 id="网络">网络</h3>
<p>查询本机ip： <code>$curl ipinfo.io</code></p>
<h3 id="启动">启动</h3>
<p>Uluancher https://ulauncher.io/　，简单高效。无论用哪个平台都应该又一款趁手的启动器。</p>
<h3 id="文件管理">文件管理</h3>
<p>解压缩：xarchive ，文件搜索：catfish</p>
<h3 id="浏览器">浏览器</h3>
<p>Chrome 同步难但易用，Firefox 在我这里总有小问题。</p>
<h3 id="输入法">输入法</h3>
<p>选择 fcitx5 和 rime ，使用：</p>
<ul>
<li>四叶草拼音方案 https://github.com/fkxxyz/rime-cloverpinyin</li>
<li>皮肤 https://github.com/hosxy/Fcitx5-Material-Color</li>
</ul>
<p>比起默认的拼音更适合简体中文用户。一些tips</p>
<ul>
<li>shift+空格 切换全角/半角</li>
</ul>
<h3 id="图片">图片</h3>
<p>编辑器用 GIMP，用惯了也还好。看图用 ristretto ，看漫画可以用 MComix 或 Foliate。截图用火焰截图 <a href="https://github.com/lupoDharkael/flameshot">Flameshot</a> ，截图可以绑定快捷键到 <code>flameshot gui</code></p>
<h3 id="影音">影音</h3>
<p>MPV 主力播放， VLC 可以看网络直播流，也适合播放整个文件夹。音乐播放用 Audacious ，需要编辑音乐信息装一个 Kid3。听在线音乐可以用 <a href="https://listen1.github.io/listen1/">Listen 1 音乐播放器</a> 。录音用 yAudacity。</p>
<h4 id="mpv显示两个字幕">mpv显示两个字幕</h4>
<p>mpv some-video.mp4 –sub-file=sub1.srt –sub-file=sub2.srt –secondary-sid=2</p>
<p>在线工具合并两个字幕：https://easypronunciation.com/zh/merge-two-subtitle-files-online</p>
<p>mpv调整字幕大小，在 ~/.config/mpv/input.conf 加入：</p>
<pre><code># increase subtitle font size
ALT+k add sub-scale +0.1

# decrease subtitle font size
ALT+j add sub-scale -0.1</code></pre>
<h3 id="电子书">电子书</h3>
<p>Calibre 安装好，导入书库。需要编辑epub 可以安装 Sigil，有打包电子书的需要装 pandoc</p>
<p>pdf浏览就装 Evince ，剪裁工具 <a href="http://arminstraub.com/software/krop">krop</a></p>
<h3 id="编辑器">编辑器</h3>
<p>Typora 收费后，直接全部用 Obsidian 解决笔记问题，markdown无敌。单个文件用系统自带的 mousepad 打开。WPS 或者用在线文档对付msoffice格式。</p>
<h3 id="rss">RSS</h3>
<p><a href="https://lzone.de/liferea/">Liferea</a> ，本地浏览够用了。</p>
<h3 id="下载">下载</h3>
<p>wget / <a href="https://github.com/iawia002/annie">annie</a> / youtube-dl / qbittorrent / <a href="https://github.com/mayswind/AriaNg">AriaNg</a></p>
<p>阿里云推荐用：阿里云盘小白羊版 https://github.com/liupan1890/aliyunpan</p>
<h3 id="即时通讯">即时通讯</h3>
<p>微信，尝试了几种包括统信UOS 版，现在使用web版凑合，使用率并不高。可以用下面命令开一个独立窗口。google-chrome-stable –new-window –app=https://wx.qq.com</p>
<h3 id="网盘">网盘</h3>
<p>坚果云打开后白屏，按照<a href="https://blog.zhullyb.top/2021/10/02/nutstore-guide-on-archlinux-kde/">这里的提示</a>，执行：</p>
<p><code>sudo sed -i 's|webui.enable=true|webui.enable=false|' /opt/nutstore/conf/nutstore.properties</code></p>
<h3 id="外语学习">外语学习</h3>
<p>GoldenDict 和 anki 装好每天都用d</p>
<h3 id="git-ssh">Git / SSH</h3>
<p>安装并配置连接github</p>
<h3 id="其他问题">其他问题</h3>
<h4 id="浏览器无法打开telegram-链接">浏览器无法打开telegram 链接</h4>
<p>`<code>~/.local/share/applications</code> 找到 userapp-Telegram Desktop-xxxx.desktop ,在文件的最后添加一行：</p>
<p><code>MimeType=application/x-xdg-protocol-tg;x-scheme-handler/tg;</code></p>
<h4 id="pacman错误">pacman错误</h4>
<p>invalid pgp key错误解决 : <code>$ sudo pacman-key --refresh-keys</code></p>
<p>pacman -Syu 升级系统 pacman -Syy 同步软件列表 pacman -Scc 清理软件包 pacman -S xxx 安装 pacman -Ss xxx 查询 pacman -R xxx 卸载 pacman -Qs xxx 查询已安装包</p>
<h4 id="环境变量">环境变量</h4>
<p>编辑 <code>~/.bashrc</code>，加入</p>
<p><code>export PATH=$PATH:/somepath</code></p>
<h2 id="old">old</h2>
<hr />
<h3 id="电源">电源</h3>
<p>编辑： /etc/systemd/logind.conf 加入以下两行，实现笔记本合盖挂起系统：</p>
<pre><code>HandleLidSwitch=suspend
HandleLidSwitchExternalPower=suspend</code></pre>
<p>然后执行：<code>systemctl restart systemd-logind</code></p>
<p>使用xfce后默认锁屏是xfce4-screensaver，调用 xflock4，黑屏无提示。卸载掉 xfce4-screensaver ，安装</p>
<p><code>sudo pacman -S light-locker</code> <code>yay light-locker-settings</code></p>
<p>然后在 设置&gt;配置编辑器&gt;xfce4-session&gt;general&gt;LockCommand 加入</p>
<p><code>light-locker-command --lock</code></p>
<p>则可以使用 ctrl+alt +L 锁定，返回 lightdm登录界面。可以安装 lightdm-gtk-greeter-settings 进一步美化登录界面。</p>
<p>!!! 问题，关闭笔记本盖子再打开，屏幕会出现</p>
<p>#: ../src/xfpm-power.c:436 msgid “” “None of the screen lock tools ran successfully, the screen will not be locked.” “Do you still want to continue to suspend the system?” msgstr “嘿，所有锁屏工具都不能正常运行呢，所以我就无法锁定屏幕啦。？”</p>
<p>edit /usr/bin/xflock4</p>
<h2 id="软件">软件</h2>
<h3 id="ssh-and-git">SSH and git</h3>
<ul>
<li>安装 openssh git</li>
<li>创建本地ssh key：<code>ssh-keygen -t rsa -C "youremail@example.com"</code></li>
<li>复制 <code>~.ssh/id_rsa.pub</code> 内容到github-Account settings-SSH Keys，Title随意</li>
<li>配置git，参考：https://www.runoob.com/w3cnote/git-guide.html</li>
</ul>
<h3 id="syncthing">Syncthing</h3>
<ul>
<li>安装 syncthing / syncthing-gtk</li>
<li>加入服务： <code>sudo systemctl enable syncthing@laodu.service</code></li>
<li>启动服务： <code>sudo systemctl start syncthing@laodu.service</code></li>
<li>本机地址： http://127.0.0.1:8384/</li>
</ul>
<hr />
<h2 id="结语">结语</h2>
<p>奥卡姆剃刀原则说：如无必要、勿增实体。够用好用，还要怎样？</p>
<ul>
<li>20191029 创建</li>
<li>20220304 更新</li>
</ul>
</body>
</html>
